if("undefined"==typeof Promise||Promise.prototype.finally||(Promise.prototype.finally=function(t){const e=this.constructor;return this.then((a=>e.resolve(t()).then((()=>a))),(a=>e.resolve(t()).then((()=>{throw a}))))}),"undefined"!=typeof uni&&uni&&uni.requireGlobal){const t=uni.requireGlobal();ArrayBuffer=t.ArrayBuffer,Int8Array=t.Int8Array,Uint8Array=t.Uint8Array,Uint8ClampedArray=t.Uint8ClampedArray,Int16Array=t.Int16Array,Uint16Array=t.Uint16Array,Int32Array=t.Int32Array,Uint32Array=t.Uint32Array,Float32Array=t.Float32Array,Float64Array=t.Float64Array,BigInt64Array=t.BigInt64Array,BigUint64Array=t.BigUint64Array}uni.restoreGlobal&&uni.restoreGlobal(Vue,weex,plus,setTimeout,clearTimeout,setInterval,clearInterval),function(t){"use strict";function e(t,e,...a){uni.__log__?uni.__log__(t,e,...a):console[t].apply(console,[...a,e])}__definePage("pages/index/index",((t,e)=>{const a=t.__vccOpts||t;for(const[n,i]of e)a[n]=i;return a})({data:()=>({x:0,y:0,rho:0,theta:0,dragging:!1,lastX:0,lastY:0,audioContext:null,circleRadii:[50,100,150]}),onLoad(){this.initCanvas(),this.initAudio()},methods:{initCanvas(){const t=uni.createCanvasContext("coordinateCanvas");t.setStrokeStyle("#000"),t.setLineWidth(2),t.moveTo(150,0),t.lineTo(150,300),t.moveTo(0,150),t.lineTo(300,150),t.stroke(),this.circleRadii.forEach((e=>{t.beginPath(),t.arc(150,150,e,0,2*Math.PI),t.setStrokeStyle("#ddd"),t.setLineWidth(1),t.stroke()})),t.beginPath(),t.arc(150,150,5,0,2*Math.PI),t.setFillStyle("red"),t.fill(),t.draw(),uni.$on("canvasTouchMove",this.handleCanvasTouchMove),uni.$on("canvasTouchStart",this.handleCanvasTouchStart),uni.$on("canvasTouchEnd",this.handleCanvasTouchEnd)},handleCanvasTouchMove(t){if(this.dragging){const e=t.touches[0];uni.createSelectorQuery().select("#coordinateCanvas").boundingClientRect().exec((t=>{this.x=e.x-t.left-150+this.lastX,this.y=e.y-t.top-150+this.lastY,this.updatePolarCoordinates(),this.drawPoint()}))}},handleCanvasTouchStart(t){this.dragging=!0,this.audioContext.play();const e=t.touches[0];uni.createSelectorQuery().select("#coordinateCanvas").boundingClientRect().exec((t=>{this.lastX=e.x-t.left-150,this.lastY=e.y-t.top-150,this.x=this.lastX,this.y=this.lastY,this.updatePolarCoordinates()}))},handleCanvasTouchEnd(){this.dragging=!1,this.audioContext.stop()},drawPoint(){const t=uni.createCanvasContext("coordinateCanvas");t.clearRect(0,0,300,300),t.setStrokeStyle("#000"),t.setLineWidth(2),t.moveTo(150,0),t.lineTo(150,300),t.moveTo(0,150),t.lineTo(300,150),t.stroke(),this.circleRadii.forEach((e=>{t.beginPath(),t.arc(150,150,e,0,2*Math.PI),t.setStrokeStyle("#ddd"),t.setLineWidth(1),t.stroke()})),t.beginPath(),t.arc(this.x+150,this.y+150,5,0,2*Math.PI),t.setFillStyle("red"),t.fill(),t.draw()},updatePolarCoordinates(){this.rho=Math.sqrt(this.x*this.x+this.y*this.y),this.theta=(180*Math.atan2(this.y,this.x)/Math.PI+360)%360},initAudio(){this.audioContext=uni.createInnerAudioContext(),this.audioContext.src="static/music/mymusic",this.audioContext.autoplay=!1}}},[["render",function(e,a,n,i,o,r){return t.openBlock(),t.createElementBlock("view",{class:"container"},[t.createElementVNode("canvas",{"canvas-id":"coordinateCanvas",class:"canvas"}),t.createElementVNode("view",{class:"info"},[t.createElementVNode("text",null,"X: "+t.toDisplayString(o.x.toFixed(2))+" Y: "+t.toDisplayString(o.y.toFixed(2)),1),t.createElementVNode("text",null,"ρ: "+t.toDisplayString(o.rho.toFixed(2))+" θ: "+t.toDisplayString(o.theta.toFixed(2))+"°",1)])])}]]));const a={onLaunch:function(){e("log","at App.vue:4","App Launch")},onShow:function(){e("log","at App.vue:7","App Show")},onHide:function(){e("log","at App.vue:10","App Hide")}};const{app:n,Vuex:i,Pinia:o}={app:t.createVueApp(a)};uni.Vuex=i,uni.Pinia=o,n.provide("__globalStyles",__uniConfig.styles),n._component.mpType="app",n._component.render=()=>{},n.mount("#app")}(Vue);
