if("undefined"==typeof Promise||Promise.prototype.finally||(Promise.prototype.finally=function(e){const t=this.constructor;return this.then((n=>t.resolve(e()).then((()=>n))),(n=>t.resolve(e()).then((()=>{throw n}))))}),"undefined"!=typeof uni&&uni&&uni.requireGlobal){const e=uni.requireGlobal();ArrayBuffer=e.ArrayBuffer,Int8Array=e.Int8Array,Uint8Array=e.Uint8Array,Uint8ClampedArray=e.Uint8ClampedArray,Int16Array=e.Int16Array,Uint16Array=e.Uint16Array,Int32Array=e.Int32Array,Uint32Array=e.Uint32Array,Float32Array=e.Float32Array,Float64Array=e.Float64Array,BigInt64Array=e.BigInt64Array,BigUint64Array=e.BigUint64Array}uni.restoreGlobal&&uni.restoreGlobal(Vue,weex,plus,setTimeout,clearTimeout,setInterval,clearInterval),function(e){"use strict";function t(e,t,...n){uni.__log__?uni.__log__(e,t,...n):console[e].apply(console,[...n,t])}__definePage("pages/index/index",((e,t)=>{const n=e.__vccOpts||e;for(const[a,o]of t)n[a]=o;return n})({setup(){const t=e.ref(0),n=e.ref(0),a=e.ref(0),o=e.ref(0),r=e.ref(!1),l=uni.createInnerAudioContext(),i=[50,100,150],u=()=>{const e=uni.createCanvasContext("coordinateCanvas");c(e)},c=e=>{e.clearRect(0,0,300,300),e.setStrokeStyle("#000"),e.setLineWidth(2),e.moveTo(150,0),e.lineTo(150,300),e.moveTo(0,150),e.lineTo(300,150),e.stroke(),i.forEach((t=>{e.beginPath(),e.arc(150,150,t,0,2*Math.PI),e.setStrokeStyle("#ddd"),e.setLineWidth(1),e.stroke()})),e.draw(!0)},s=e=>{const r=e.touches[0];uni.createSelectorQuery().select("#coordinateCanvas").boundingClientRect().exec((e=>{const l=Math.max(-150,Math.min(150,r.x-150)),i=Math.max(-150,Math.min(150,r.y-150));if(l!==t.value||i!==n.value){const e=uni.createCanvasContext("coordinateCanvas");e.clearRect(t.value+150-5,n.value+150-5,10,10),u(),t.value=l,n.value=i,a.value=Math.sqrt(t.value*t.value+n.value*n.value),o.value=(180*Math.atan2(-n.value,t.value)/Math.PI+360)%360,((e,t,n)=>{e.beginPath(),e.arc(t,n,5,0,2*Math.PI),e.setFillStyle("red"),e.fill(),e.draw(!0)})(e,t.value+150,n.value+150)}}))};return e.onMounted((()=>{u(),l.src="static/music/music.mp3",l.loop=!0})),{x:t,y:n,rho:a,theta:o,handleTouchStart:e=>{l.play(),r.value=!0,s(e)},handleTouchMove:e=>{r.value&&s(e)},handleTouchEnd:()=>{l.pause(),r.value=!1}}}},[["render",function(t,n,a,o,r,l){return e.openBlock(),e.createElementBlock("view",{class:"container"},[e.createElementVNode("canvas",{"canvas-id":"coordinateCanvas",class:"canvas",onTouchstart:n[0]||(n[0]=(...e)=>o.handleTouchStart&&o.handleTouchStart(...e)),onTouchmove:n[1]||(n[1]=(...e)=>o.handleTouchMove&&o.handleTouchMove(...e)),onTouchend:n[2]||(n[2]=(...e)=>o.handleTouchEnd&&o.handleTouchEnd(...e))},null,32),e.createElementVNode("view",{class:"info"},[e.createElementVNode("view",null,[e.createElementVNode("text",null,"X: "+e.toDisplayString(o.x.toFixed(2))+" Y: "+e.toDisplayString(-o.y.toFixed(2)),1)]),e.createElementVNode("view",null,[e.createElementVNode("text",null,"ρ: "+e.toDisplayString(o.rho.toFixed(2))+" θ: "+e.toDisplayString(o.theta.toFixed(2))+"°",1)])])])}]]));const n={onLaunch:function(){t("log","at App.vue:4","App Launch")},onShow:function(){t("log","at App.vue:7","App Show")},onHide:function(){t("log","at App.vue:10","App Hide")}};const{app:a,Vuex:o,Pinia:r}={app:e.createVueApp(n)};uni.Vuex=o,uni.Pinia=r,a.provide("__globalStyles",__uniConfig.styles),a._component.mpType="app",a._component.render=()=>{},a.mount("#app")}(Vue);
